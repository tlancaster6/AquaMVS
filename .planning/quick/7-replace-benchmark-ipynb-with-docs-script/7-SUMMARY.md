---
phase: quick-7
plan: 01
subsystem: docs
tags: [matplotlib, sphinx, benchmark, visualization]

requires:
  - phase: 07-post-qa-bug-triage
    provides: benchmark runner API (run_benchmark, BenchmarkResult)
provides:
  - Standalone benchmark figure generator script
  - Visual Sample Output docs page with image directives
affects: [docs, benchmarks]

tech-stack:
  added: []
  patterns: [standalone scripts in docs/scripts/ for figure generation]

key-files:
  created:
    - docs/scripts/generate_benchmark_figures.py
  modified:
    - docs/benchmarks.rst
    - docs/tutorial/index.rst
    - docs/conf.py
    - docs/cli_guide.md
    - docs/tutorial/notebook.ipynb

key-decisions:
  - "Suppress image.not_readable warnings in Sphinx since benchmark figures are generated on-demand by the script"

patterns-established:
  - "docs/scripts/ directory for dev-only figure generation scripts"

requirements-completed: [QUICK-7]

duration: 6min
completed: 2026-02-28
---

# Quick Task 7: Replace Benchmark Notebook with Docs Script Summary

**Standalone matplotlib figure generator script replacing fragile Jupyter notebook, with Sample Output showcase page**

## Performance

- **Duration:** 6 min
- **Started:** 2026-02-28T21:12:15Z
- **Completed:** 2026-02-28T21:18:00Z
- **Tasks:** 2
- **Files modified:** 7

## Accomplishments
- Created docs/scripts/generate_benchmark_figures.py with 4 figure generators (runtime+points, stage timing, depth comparison, reconstruction comparison)
- Deleted docs/tutorial/benchmark.ipynb and its checkpoint
- Rewrote docs/benchmarks.rst as a visual Sample Output showcase page
- Fixed all cross-references to the deleted notebook across docs

## Task Commits

Each task was committed atomically:

1. **Task 1: Create benchmark figure generator script and delete notebook** - `e8d0e23` (feat)
2. **Task 2: Update docs pages to reference script instead of notebook** - `2f2fd9e` (docs)

## Files Created/Modified
- `docs/scripts/generate_benchmark_figures.py` - Standalone script generating 4 benchmark comparison PNGs via run_benchmark API
- `docs/benchmarks.rst` - Rewritten as visual Sample Output page with image directives and pathway selection guide
- `docs/tutorial/index.rst` - Removed benchmark notebook toctree entry and description
- `docs/conf.py` - Added .ipynb_checkpoints exclude pattern and image warning suppression
- `docs/cli_guide.md` - Updated benchmark cross-reference to Sample Output page
- `docs/tutorial/notebook.ipynb` - Updated Next Steps link from benchmark tutorial to Sample Output

## Decisions Made
- Suppressed image.not_readable Sphinx warnings since benchmark figures are generated on-demand (not committed to repo)
- Kept Sample Output page title instead of Benchmark Results for user-facing clarity

## Deviations from Plan

### Auto-fixed Issues

**1. [Rule 1 - Bug] Fixed broken cross-references in cli_guide.md and notebook.ipynb**
- **Found during:** Task 2 (Sphinx build verification)
- **Issue:** cli_guide.md referenced `tutorial/benchmark` and notebook.ipynb referenced `benchmark`, both pointing to deleted notebook
- **Fix:** Updated cli_guide.md to reference `benchmarks` (Sample Output page) and notebook.ipynb to reference `../benchmarks`
- **Files modified:** docs/cli_guide.md, docs/tutorial/notebook.ipynb
- **Verification:** Sphinx build passes with -W (warnings as errors)
- **Committed in:** 2f2fd9e (Task 2 commit)

**2. [Rule 3 - Blocking] Added TYPE_CHECKING import for BenchmarkResult**
- **Found during:** Task 1 (pre-commit ruff check)
- **Issue:** ruff F821 flagged BenchmarkResult as undefined despite `from __future__ import annotations`
- **Fix:** Added `from typing import TYPE_CHECKING` guard with conditional import
- **Files modified:** docs/scripts/generate_benchmark_figures.py
- **Verification:** ruff passes, script syntax valid
- **Committed in:** e8d0e23 (Task 1 commit)

---

**Total deviations:** 2 auto-fixed (1 bug, 1 blocking)
**Impact on plan:** Both auto-fixes necessary for correctness. No scope creep.

## Issues Encountered
None beyond the auto-fixed deviations above.

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Benchmark figures can be generated by running `python docs/scripts/generate_benchmark_figures.py config.yaml`
- Images will appear at docs/_static/benchmark/ for Sphinx to include

## Self-Check: PASSED

All files verified present, notebook confirmed deleted, both commit hashes found in git log.

---
*Quick Task: 7*
*Completed: 2026-02-28*
