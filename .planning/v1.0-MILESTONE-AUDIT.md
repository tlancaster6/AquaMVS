---
milestone: v1.0
audited: 2026-02-15T18:30:00Z
status: tech_debt
scores:
  requirements: 22/22
  phases: 6/6
  integration: 43/44
  flows: 5/6
gaps:
  requirements: []
  integration:
    - "profiler.py API mismatches: detect_input_type and VideoSet/ImageDirectorySet called with wrong signatures"
  flows:
    - "aquamvs profile config.yaml will crash at runtime due to profiler API bugs"
tech_debt:
  - phase: 01-dependency-resolution-and-packaging-foundations
    items:
      - "PyPI publish workflow not yet triggered (no v-tag pushed)"
      - "CI test matrix not yet executed on GitHub Actions (pending push to main)"
      - "Wheel build not verified locally (configuration verified, actual build pending)"
  - phase: 04-documentation-and-examples
    items:
      - "ReadTheDocs deployment pending rebuild after requirements-prereqs.txt fix (90% complete)"
      - "Phase 04 VERIFICATION.md not re-run after gap closure plans 04-06 and 04-07"
  - phase: 05-performance-and-optimization
    items:
      - "profiler.py lines 139-146: detect_input_type() and VideoSet/ImageDirectorySet called with wrong API signatures"
      - "Quality presets (QualityPreset enum) undocumented in CLI guide"
      - "Depth batching shows no CPU speedup (expected GPU-only benefit)"
---

# Milestone v1.0 Audit Report

**Milestone:** AquaMVS Production Readiness (v1.0)
**Audited:** 2026-02-15T18:30:00Z
**Status:** tech_debt — All requirements met, no critical blockers, accumulated tech debt needs review

## Phase Verification Summary

| Phase | Status | Score | Notes |
|-------|--------|-------|-------|
| 01. Dependency Resolution | human_needed | 6/6 | Config verified; PyPI upload, CI execution pending human action |
| 01.1. Feature Additions | passed | 6/6 | All features implemented and verified |
| 02. Config & API Cleanup | passed | 6/6 | Pydantic migration complete, progress bars, validation |
| 03. Pipeline Modularization | passed | 17/17 | Clean decomposition, all protocols wired |
| 04. Documentation & Examples | gaps_found → closed | 4/5 → 5/5 | Gap closure plans 04-06, 04-07 addressed dataset + ReadTheDocs |
| 05. Performance & Optimization | passed | 4/4 | All gaps closed after plans 05-07, 05-08 |

## Requirements Coverage

All 22 v1 requirements mapped and satisfied:

### Packaging (Phase 01)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| PKG-01 | pip install aquamvs from PyPI | ✓ Satisfied | PyPI-compatible pyproject.toml, no git URLs in dependencies |
| PKG-02 | LightGlue pinned to commit hash | ✓ Satisfied | requirements-prereqs.txt @ edb2b83 |
| PKG-03 | RoMa v2 without --no-deps | ✓ Satisfied | User fork @ 3862b19 with dataclasses fix |
| PKG-04 | AquaCal dependency resolved | ✓ Satisfied | aquacal>=0.1.0 as PyPI dependency |
| PKG-05 | Semantic versioning + CHANGELOG | ✓ Satisfied | v0.1.0, semantic-release configured |
| PKG-06 | Wheel excludes dev files | ✓ Satisfied | include-package-data=false, exclude config |

### Configuration (Phase 02)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| CFG-01 | Clear validation error messages | ✓ Satisfied | Pydantic ValidationError + format_validation_errors() |
| CFG-02 | Config consolidated to 4-5 groups | ✓ Satisfied | 5 Pydantic models (was 14 dataclasses) |
| CFG-03 | Sensible defaults for minimal config | ✓ Satisfied | All fields have defaults |
| CFG-04 | Cross-stage constraint validation | ✓ Satisfied | check_cross_stage_constraints() validator |

### Pipeline Refactoring (Phase 03)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| REF-01 | pipeline/ package with builder, runner, stages | ✓ Satisfied | 7 modules in pipeline/ package |
| REF-02 | Distinct stage modules per execution path | ✓ Satisfied | 6 stage modules, 4 paths traceable |
| REF-03 | AquaCal VideoSet isolated | ✓ Satisfied | VideoSet only in runner.py |
| REF-04 | Protocol/factory pattern for extractors | ✓ Satisfied | FrameSource, CalibrationProvider protocols |

### Documentation (Phase 04)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| DOC-01 | README with description, install, quickstart | ✓ Satisfied | Visual README with hero image, badges, quickstart |
| DOC-02 | Platform-specific installation guide | ✓ Satisfied | docs/installation.rst covers Win/Linux/macOS/CPU/GPU |
| DOC-03 | Jupyter tutorial for E2E workflow | ✓ Satisfied | docs/tutorial/notebook.ipynb (406 lines) |
| DOC-04 | Example dataset available | ✓ Satisfied | GitHub Release v0.1.0-example-data |

### CLI & UX (Phase 02)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| UX-01 | Progress bars on long operations | ✓ Satisfied | tqdm on plane sweep + frame processing loops |

### Benchmarking (Phase 05)

| Req | Description | Status | Evidence |
|-----|-------------|--------|----------|
| BEN-01 | RoMa vs LightGlue benchmark | ✓ Satisfied | Synthetic benchmark with documented results |
| BEN-02 | Top 3 bottlenecks with measurements | ✓ Satisfied | depth_estimation 67%, surface 30%, extract_depth 4% |
| BEN-03 | Optimization based on profiling | ✓ Satisfied | Depth batching targeting #1 bottleneck |

**Coverage:** 22/22 requirements satisfied

## Cross-Phase Integration

**Score:** 43/44 connections wired (98%)

### Connected (Strong)
- Phase 01 → All: pyproject.toml entry point, dependency management ✓
- Phase 01.1 → Phase 02, 03: ImageDirectorySet, export_mesh, preprocess integrated ✓
- Phase 02 → Phase 03, 04, 05: PipelineConfig consumed in 17 files ✓
- Phase 03 → Phase 04, 05: Pipeline class, run_pipeline, import paths consistent ✓
- Phase 04 → Users: All 7 CLI commands documented ✓
- Phase 05 → Phase 02, 03: benchmark CLI, quality presets, depth_batch_size ✓

### Broken (1 issue)
- **profiler.py lines 139-146**: `detect_input_type()` called with `config` instead of `config.camera_video_map`. `VideoSet.from_config()` and `ImageDirectorySet.from_config()` called but these constructors don't exist. Should follow `pipeline/runner.py:162-165` pattern.

## E2E Flow Verification

| Flow | Status | Details |
|------|--------|---------|
| Install → Init → Run → Mesh | ✓ Complete | All steps documented and wired |
| Preprocess → Run (images) → Export | ✓ Complete | ImageDirectorySet, export_mesh integrated |
| Benchmark comparison | ✓ Complete | CLI dispatches, runner computes metrics |
| Profile bottlenecks | ✗ Broken | profiler.py API mismatches will crash |
| Library: Pipeline(config).run() | ✓ Complete | Imports resolve, API matches docs |
| Documentation walkthrough | ✓ Complete | README → INSTALL → tutorials → API docs |

**Score:** 5/6 flows complete

## Tech Debt Summary

### Phase 01: Packaging (3 items)
1. PyPI publish workflow awaiting first v-tag push
2. CI test matrix not yet executed on GitHub Actions
3. Local wheel build not verified (config verified)

### Phase 04: Documentation (2 items)
4. ReadTheDocs deployment pending rebuild after prereqs fix
5. VERIFICATION.md not re-run after gap closure (stale status)

### Phase 05: Performance (3 items)
6. **profiler.py API mismatches** — broken input detection/reader construction
7. Quality presets undocumented in CLI guide
8. Depth batching no CPU speedup (GPU-only benefit, as expected)

### Total: 8 items across 3 phases

**Severity breakdown:**
- **Bug (should fix before release):** 1 (profiler API mismatches)
- **Pending human action:** 3 (PyPI publish, CI execution, ReadTheDocs rebuild)
- **Documentation gap:** 2 (quality presets docs, stale VERIFICATION.md)
- **Informational:** 2 (wheel build, CPU batching behavior)

## Conclusion

The v1.0 milestone delivers on all 22 requirements with strong cross-phase integration. The primary actionable item is fixing the profiler module's API mismatches (3 lines of code). The remaining tech debt is primarily pending human actions (PyPI publish, CI execution, ReadTheDocs rebuild) that happen naturally during the release process.

---

_Audited: 2026-02-15T18:30:00Z_
_Auditor: Claude (gsd-audit-milestone)_
